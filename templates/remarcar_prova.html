<!DOCTYPE html>
<html lang="pt">
<link href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap" rel="stylesheet">
{% extends 'base.html' %}

{% block content %}
<head>
    <meta charset="UTF-8">
    <title>Remarcar Prova</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h2>Remarcar Prova</h2>
    <form action="" method="post">
        <label for="nova_data">Nova Data:</label>
        <input type="date" id="nova_data" name="nova_data" required min="{{ today }}">
        <br><br>
        <input type="submit" value="Remarcar">
    </form>
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <script>
            document.addEventListener("DOMContentLoaded", function() {
                var modal = document.getElementById('messageModal');
                var modalMessage = document.getElementById('modalMessage');
                var closeModal = document.getElementsByClassName('modal-close')[0];
                
                // Exibe a primeira mensagem de sucesso
                {% for category, message in messages %}
                    if ("{{ category }}" === "success") {
                        modalMessage.textContent = "{{ message }}";
                        modal.style.display = "block";
                    }
                {% endfor %}

                closeModal.onclick = function() {
                    modal.style.display = "none";
                }
            });
        </script>
    {% endif %}
{% endwith %}

</body>
</html>
{% endblock %}
